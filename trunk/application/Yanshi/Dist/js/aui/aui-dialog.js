!function(e,t){"use strict";var i=function(){};i.prototype={params:{title:"",msg:"",buttons:["取消","确定"],input:!1},create:function(e,t){var i=this,o="",a="",u=e.title?'<div class="aui-dialog-header">'+e.title+"</div>":'<div class="aui-dialog-header">'+i.params.title+"</div>";if(e.input){e.text=e.text?e.text:"";var n='<div class="aui-dialog-body"><input type="text" placeholder="'+e.text+'"></div>'}else var n=e.msg?'<div class="aui-dialog-body">'+e.msg+"</div>":'<div class="aui-dialog-body">'+i.params.msg+"</div>";var d=e.buttons?e.buttons:i.params.buttons;if(d&&d.length>0)for(var r=0;r<d.length;r++)a+='<div class="aui-dialog-btn" tapmode button-index="'+r+'">'+d[r]+"</div>";var c='<div class="aui-dialog-footer">'+a+"</div>";o='<div class="aui-dialog">'+u+n+c+"</div>",document.body.insertAdjacentHTML("beforeend",o);var l=document.querySelectorAll(".aui-dialog-btn");if(l&&l.length>0)for(var s=0;s<l.length;s++)l[s].onclick=function(){t&&t(e.input?{buttonIndex:parseInt(this.getAttribute("button-index"))+1,text:document.querySelector("input").value}:{buttonIndex:parseInt(this.getAttribute("button-index"))+1}),i.close()};i.open()},open:function(){if(document.querySelector(".aui-dialog")){if(document.querySelector(".aui-dialog").style.marginTop="-"+Math.round(document.querySelector(".aui-dialog").offsetHeight/2)+"px",!document.querySelector(".aui-mask")){var e='<div class="aui-mask"></div>';document.body.insertAdjacentHTML("beforeend",e)}setTimeout(function(){document.querySelector(".aui-dialog").classList.add("aui-dialog-in"),document.querySelector(".aui-mask").classList.add("aui-mask-in"),document.querySelector(".aui-dialog").classList.add("aui-dialog-in")},10),document.querySelector(".aui-mask").addEventListener("touchmove",function(e){e.preventDefault()}),document.querySelector(".aui-dialog").addEventListener("touchmove",function(e){e.preventDefault()})}},close:function(){var e=this;document.querySelector(".aui-mask").classList.remove("aui-mask-in"),document.querySelector(".aui-dialog").classList.remove("aui-dialog-in"),document.querySelector(".aui-dialog").classList.add("aui-dialog-out"),document.querySelector(".aui-dialog:not(.aui-dialog-out)")?setTimeout(function(){return document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog")),e.open(),!0},200):(document.querySelector(".aui-mask").classList.add("aui-mask-out"),document.querySelector(".aui-dialog").addEventListener("webkitTransitionEnd",function(){e.remove()}),document.querySelector(".aui-dialog").addEventListener("transitionend",function(){e.remove()}))},remove:function(){return document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog")),document.querySelector(".aui-mask")&&document.querySelector(".aui-mask").classList.remove("aui-mask-out"),!0},alert:function(e,t){var i=this;return i.create(e,t)},prompt:function(e,t){var i=this;return e.input=!0,i.create(e,t)}},e.auiDialog=i}(window);
//# sourceMappingURL=aui-dialog.js.map
