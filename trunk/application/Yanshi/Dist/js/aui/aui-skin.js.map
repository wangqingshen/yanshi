{"version":3,"sources":["aui/aui-skin.js"],"names":["window","undefined","fileRef","auiSkin","params","this","extend","_init","prototype","name","skinPath","default","beginTime","endTime","self","document","createElement","setAttribute","getElementsByTagName","appendChild","check","_date","Date","getMinutes","nowM","nowTime","getHours","b","parseInt","replace","e","n","setSkin","removeSkin","querySelector","parentNode","removeChild","strb","split","length","stre","setHours","setMinutes","a","key","hasOwnProperty"],"mappings":"CAOA,SAAWA,EAAQC,GACf,YACA,IAIIC,GAJAC,EAAU,SAASC,GACtBC,KAAKC,OAAOD,KAAKD,OAAQA,GACtBC,KAAKE,QAGTJ,GAAQK,WACJJ,QACIK,KAAM,GACNC,SAAW,GACXC,WAAW,EACXC,UAAW,GACXC,QAAW,IAEfN,MAAO,WACN,GAAIO,GAAOT,IACR,IAAIS,EAAKV,OAAOK,MACfK,EAAKV,OAAOM,SAMb,GALAR,EAAUa,SAASC,cAAc,QACjCd,EAAQe,aAAa,MAAM,cAC3Bf,EAAQe,aAAa,OAAO,YAC5Bf,EAAQe,aAAa,gBAAgBH,EAAKV,OAAOK,MACjDP,EAAQe,aAAa,OAAOH,EAAKV,OAAOM,UACrCI,EAAKV,OAALU,WACCC,SAASG,qBAAqB,QAAQ,GAAGC,YAAYjB,OACpD,CACD,IAAIY,EAAKV,OAAOQ,YAAcE,EAAKV,OAAOS,QAAQ,MAClD,KAAIC,EAAKM,MAAMN,EAAKV,OAAOQ,UAAUE,EAAKV,OAAOS,SAAS,MAC1D,IAAIQ,GAAQ,GAAIC,KAChB,IAAGD,EAAME,aAAe,GACpB,GAAIC,GAAO,IAAIH,EAAME,iBAErB,IAAIC,GAAOH,EAAME,YAErB,IAAIE,GAAUJ,EAAMK,WAAW,IAAIF,EAC/BG,EAAIC,SAASd,EAAKV,OAAOQ,UAAUiB,QAAQ,IAAK,KAChDC,EAAIF,SAASd,EAAKV,OAAOS,QAAQgB,QAAQ,IAAK,KAC9CE,EAAIH,SAASH,EAAQI,QAAQ,IAAK,IACnCF,GAAIG,GACAC,GAAKJ,GAAKI,GAAKD,IAAEhB,EAAKkB,UACpBL,EAAIG,EACNC,GAAKJ,GAAKI,GAAKD,GAAEhB,EAAKkB,UAEzBlB,EAAKmB,eAIjBD,QAAQ,WACJjB,SAASG,qBAAqB,QAAQ,GAAGC,YAAYjB,IAEzD+B,WAAW,WACP,GAAInB,GAAOT,IACRU,UAASmB,cAAc,uBAAuBpB,EAAKV,OAAOK,KAAK,OAClEM,SAASmB,cAAc,uBAAuBpB,EAAKV,OAAOK,KAAK,MAAM0B,WAAWC,YAAYrB,SAASmB,cAAc,uBAAuBpB,EAAKV,OAAOK,KAAK,QAE/JW,MAAM,SAASR,EAAUC,GACrB,GAAIwB,GAAOzB,EAAU0B,MAAO,IAC5B,IAAmB,GAAfD,EAAKE,OAAY,OAAO,CAC5B,IAAIC,GAAO3B,EAAQyB,MAAO,IAC1B,IAAmB,GAAfE,EAAKD,OAAY,OAAO,CAC5B,IAAIZ,GAAI,GAAIL,MACRQ,EAAI,GAAIR,KAKZ,OAJAK,GAAEc,SAAUJ,EAAK,IACjBV,EAAEe,WAAYL,EAAK,IACnBP,EAAEW,SAAUD,EAAK,IACjBV,EAAEY,WAAYF,EAAK,MAChBH,EAAK,GAAK,IAAMA,EAAK,GAAK,GAAKG,EAAK,GAAK,IAAMA,EAAK,GAAK,MACzDH,EAAK,GAAK,IAAMA,EAAK,GAAK,GAAKG,EAAK,GAAK,IAAMA,EAAK,GAAK,IAGhElC,OAAQ,SAASqC,EAAGhB,GACzB,IAAK,GAAIiB,KAAOjB,GACTA,EAAEkB,eAAeD,KACpBD,EAAEC,GAAOjB,EAAEiB,GAGb,OAAOD,KAGX3C,EAAOG,QAAUA,GACfH","file":"aui-skin.js","sourcesContent":["/**\r\n * aui-skin.js\r\n * @author 流浪男\r\n * @todo more things to abstract, e.g. Loading css etc.\r\n * Licensed under the MIT license.\r\n * http://www.opensource.org/licenses/mit-license.php\r\n */\r\n(function( window, undefined ) {\r\n    \"use strict\";\r\n    var auiSkin = function(params) {\r\n    \tthis.extend(this.params, params);\r\n        this._init();\r\n    };\r\n    var fileRef;\r\n    auiSkin.prototype = {\r\n        params: {\r\n            name: \"\", //主题名字\r\n            skinPath:  \"\",//主题路径\r\n            default:   false, //默认是否立即使用\r\n            beginTime: \"\",//开始时间\r\n            endTime:   \"\"//结束时间\r\n        },\r\n        _init: function() {\r\n        \tvar self = this;\r\n            if(!self.params.name)return;\r\n        \tif(!self.params.skinPath)return;\r\n            fileRef = document.createElement('link');\r\n            fileRef.setAttribute(\"rel\",\"stylesheet\");\r\n            fileRef.setAttribute(\"type\",\"text/css\");\r\n            fileRef.setAttribute(\"aui-skin-name\",self.params.name);\r\n            fileRef.setAttribute(\"href\",self.params.skinPath);\r\n            if(self.params.default){\r\n                document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\r\n            }else{\r\n                if(!self.params.beginTime || !self.params.endTime)return;\r\n                if(!self.check(self.params.beginTime,self.params.endTime))return;\r\n                var _date = new Date();\r\n                if(_date.getMinutes() < 10){\r\n                    var nowM = \"0\"+_date.getMinutes();\r\n                }else{\r\n                    var nowM = _date.getMinutes();\r\n                }\r\n                var nowTime = _date.getHours()+\":\"+nowM;\r\n                var b = parseInt(self.params.beginTime.replace(\":\", ''));\r\n                var e = parseInt(self.params.endTime.replace(\":\", ''));\r\n                var n = parseInt(nowTime.replace(\":\", ''));\r\n                if(b > e){\r\n                    if(n >= b || n <= e)self.setSkin();\r\n                }else if(b < e){\r\n                    if(n >= b && n <= e)self.setSkin();\r\n                }else{\r\n                    self.removeSkin();\r\n                }\r\n            }\r\n        },\r\n        setSkin:function(){\r\n            document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\r\n        },\r\n        removeSkin:function(){\r\n            var self = this;\r\n            if(document.querySelector(\"link[aui-skin-name='\"+self.params.name+\"']\"))\r\n            document.querySelector(\"link[aui-skin-name='\"+self.params.name+\"']\").parentNode.removeChild(document.querySelector(\"link[aui-skin-name='\"+self.params.name+\"']\"));\r\n        },\r\n        check:function(beginTime,endTime){\r\n            var strb = beginTime.split (\":\");\r\n            if (strb.length != 2)return false;\r\n            var stre = endTime.split (\":\");\r\n            if (stre.length != 2)return false;\r\n            var b = new Date ();\r\n            var e = new Date ();\r\n            b.setHours (strb[0]);\r\n            b.setMinutes (strb[1]);\r\n            e.setHours (stre[0]);\r\n            e.setMinutes (stre[1]);\r\n            if(strb[0] > 24 || strb[0] < 0 || stre[0] > 24 || stre[0] < 0)return false;\r\n            if(strb[1] > 59 || strb[1] < 0 || stre[1] > 59 || stre[1] < 0)return false;\r\n            return true;\r\n        },\r\n        extend: function(a, b) {\r\n\t\t\tfor (var key in b) {\r\n\t\t\t  \tif (b.hasOwnProperty(key)) {\r\n\t\t\t  \t\ta[key] = b[key];\r\n\t\t\t  \t}\r\n\t\t  \t}\r\n\t\t  \treturn a;\r\n\t\t}\r\n    };\r\n\twindow.auiSkin = auiSkin;\r\n})(window);"]}