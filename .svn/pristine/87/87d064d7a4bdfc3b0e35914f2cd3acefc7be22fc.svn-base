!function(i){"use strict";function t(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function e(i){this._init(i)}var s,n,h,o,d,a,r,l,p="aui-slide-node",c="aui-slide-page-wrap",u="aui-slide-page",g="aui-slide-page-active",f="aui-slide-page-dot",x="aui-slide-page-line",W="."+p,L="."+c,y="."+u,T="."+g;e.prototype.options={container:"",width:"auto",height:"auto",speed:300,autoPlay:0,pageShow:!0,pageStyle:"dot",dotPosition:"center",friction:1,loop:!0,currentPage:!1,PageCount:!1},e.prototype._init=function(i){if(t(this.options,i),this.options.container){this.index=0,this.continuous=!0,this.container=this.options.container,this.loop=this.options.loop,this.speed=this.options.speed,this.container.style.position="relative",this.container.style.width=this.options.width+"px",this.container.style.height=this.options.height+"px";var e=this.container.children[0];if(this.slideWrap=e,this.slideNodeList=this.slideWrap.querySelectorAll(W),e&&this.slideNodeList){this.slideWrapWidth=this.slideWrap.offsetWidth,this.slideNodeListLength=this.slideNodeList.length,2==this.slideNodeListLength&&(e.appendChild(this.slideWrap.children[0].cloneNode(!0)),e.appendChild(this.slideWrap.children[1].cloneNode(!0)),this.slideWrap=e,this.slideNodeList=this.slideWrap.querySelectorAll(W),this.slideNodeListLength=this.slideNodeList.length,this.continuous=!1);for(var s=0;s<this.slideNodeListLength;s++)this.slideNodeList[s]&&(this.slideNodeList[s].style.webkitTransform=this.slideNodeList[s].style.transform="translate3d("+this.slideWrapWidth*s+"px,0,0)");this.slideNodeListLength>1&&(this.options.pageShow&&(this.createPagination(0),this.setPageDotPosition()),this.options.autoPlay>500&&this.loop&&this.autoPlay(0),this.slideWrap.addEventListener("touchstart",this.touchStart.bind(this),!1),this.slideWrap.addEventListener("touchmove",this.touchMove.bind(this),!1),this.slideWrap.addEventListener("touchend",this.touchEnd.bind(this),!1))}}},e.prototype.setPageDotPosition=function(){var i=this,t=i.options.dotPosition;this.container.querySelector(L).style.textAlign=t},e.prototype.autoPlay=function(i){var t=this;setInterval(function(){t.slideTo(t.getCircle(t.index-1),-t.slideWrapWidth,0),t.slideTo(t.getCircle(t.index+2),t.slideWrapWidth,0),t.slideTo(t.index,-t.slideWrapWidth,t.options.speed),t.slideTo(t.getCircle(t.index+1),0,t.options.speed),t.index=t.getCircle(t.index+1),t.setPaginationActive(t.index)},t.options.autoPlay)},e.prototype.setPaginationActive=function(i){var t=this;if(t.options.currentPage&&t.options.currentPage(i),this.container.querySelector(L)){var e=this.container.querySelectorAll(y);this.container.querySelector(y+T)&&this.container.querySelector(y+T).classList.remove(g),this.continuous?e[this.index].classList.add(g):3==this.index?e[1].classList.add(g):2==this.index?e[0].classList.add(g):e[this.index].classList.add(g)}},e.prototype.createPagination=function(i){var t=this,e=this.container.querySelector(L);if(e){e.innerHTML="";var s="";switch(t.options.pageStyle){case"dot":if(this.continuous)for(var n=0;n<this.slideNodeListLength;n++)s+='<span class="'+u+" "+f+'"></span>';else for(var n=0;n<2;n++)s+='<span class="'+u+" "+f+'"></span>';e.innerHTML=s,t.setPaginationActive(0);break;case"line":if(this.continuous)for(var n=0;n<this.slideNodeListLength;n++)s+='<span class="'+u+" "+x+'" style="width:'+100/this.slideNodeListLength+'%"></span>';else for(var n=0;n<2;n++)s+='<span class="'+u+" "+x+'" style="width:50%"></span>';e.innerHTML=s,t.setPaginationActive(0)}}},e.prototype.pageCount=function(){var i=this;return i.slideNodeList.length},e.prototype.touchStart=function(i){d=1*new Date,s=parseInt(i.changedTouches[0].pageX),n=parseInt(i.changedTouches[0].pageY),l=void 0},e.prototype.touchMove=function(i){var t=i.changedTouches[0],e=parseInt(t.pageX);h=e-s,o=h/this.options.friction,a=parseInt(t.pageX)-s,r=parseInt(t.pageY)-n;var d=this.getDirection(a,r);if("undefined"==typeof l&&(l=!!(l||Math.abs(a)<Math.abs(r))),!l){if(i.preventDefault(),!this.loop){if(!this.continuous&&1==this.index&&"left"==d)return;if(!this.continuous&&0==this.index&&"right"==d)return;if(this.index==this.slideNodeList.length-1){if(o<=0)return;this.setTranslate(this.getCircle(this.index-1),o-this.slideWrapWidth,0)}else if(0==this.index){if(o>=0)return;this.setTranslate(this.getCircle(this.index+1),this.slideWrapWidth,0)}}this.setTranslate(this.getCircle(this.index-1),o-this.slideWrapWidth,0),this.setTranslate(this.index,o,0),this.setTranslate(this.getCircle(this.index+1),o+this.slideWrapWidth,0)}},e.prototype.touchEnd=function(i){var t=i.changedTouches[0],e=parseInt(t.pageX)-s,h=parseInt(t.pageY)-n,o=({x:t.pageX||0,y:t.pageY||0},this.getDirection(e,h)),r=this.slideWrapWidth/4,p=1*new Date-d,c=Number(p)<250&&Math.abs(a)>20||Math.abs(a)>r;if(!l){if(c){if(a<0){if(!this.loop&&this.index==this.slideNodeList.length-1)return;if(!this.loop&&!this.continuous&&1==this.index)return;a<-r&&"left"==o?(this.slideTo(this.getCircle(this.index-1),-this.slideWrapWidth,0),this.slideTo(this.getCircle(this.index+2),this.slideWrapWidth,0),this.slideTo(this.index,-this.slideWrapWidth,this.speed),this.slideTo(this.getCircle(this.index+1),0,this.speed),this.index=this.getCircle(this.index+1)):(this.slideTo(this.index,0,this.speed),this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed))}else if(a>0){if(!this.loop&&0==this.index)return;if(!this.loop&&!this.continuous&&0==this.index)return;a>r&&"right"==o?(this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,0),this.slideTo(this.getCircle(this.index-2),-this.slideWrapWidth,0),this.slideTo(this.index,this.slideWrapWidth,this.speed),this.slideTo(this.getCircle(this.index-1),0,this.speed),this.index=this.getCircle(this.index-1)):(this.slideTo(this.index,0,this.speed),this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed))}}else a&&(this.slideTo(this.getCircle(this.index-1),-this.slideWrapWidth,this.speed),this.slideTo(this.index,0,this.speed),this.slideTo(this.getCircle(this.index+1),this.slideWrapWidth,this.speed));this.setPaginationActive(this.index)}},e.prototype.setTranslate=function(i,t,e){this.slideNodeList[i]&&(this.slideNodeList[i].style.webkitTransitionDuration=this.slideNodeList[i].style.transitionDuration=e+"ms",this.slideNodeList[i].style.webkitTransform=this.slideNodeList[i].style.transform="translate3d("+t+"px,0,0)")},e.prototype.slideTo=function(i,t,e){this.setTranslate(i,t,e)},e.prototype.getCircle=function(i){return(this.slideNodeListLength+i%this.slideNodeListLength)%this.slideNodeListLength},e.prototype.getDirection=function(i,t){return i===t?"":Math.abs(i)>=Math.abs(t)?i>0?"right":"left":t>0?"down":"up"},i.auiSlide=e}(window);
//# sourceMappingURL=aui-slide.js.map
