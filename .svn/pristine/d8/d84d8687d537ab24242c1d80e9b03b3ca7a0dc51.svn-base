{"version":3,"sources":["aui/aui-toast.js"],"names":["window","undefined","auiToast","prototype","create","params","callback","self","this","toastHtml","type","iconHtml","html","titleHtml","title","document","querySelector","body","insertAdjacentHTML","duration","show","status","setTimeout","hide","style","display","marginTop","Math","round","offsetHeight","parentNode","removeChild","remove","classList","success","fail","custom","loading"],"mappings":"CAOA,SAAWA,EAAQC,GACf,YACA,IAAIC,GAAW,YAIfA,GAASC,WACLC,OAAQ,SAASC,EAAOC,GACpB,GAAIC,GAAOC,KACPC,EAAY,EAChB,QAAQJ,EAAOK,MACX,IAAK,UACD,GAAIC,GAAW,+CACf,MACJ,KAAK,OACD,GAAIA,GAAW,6CACf,MACJ,KAAK,SACD,GAAIA,GAAWN,EAAOO,IACtB,MACJ,KAAK,UACD,GAAID,GAAW,wCAIvB,GAAIE,GAAYR,EAAOS,MAAQ,kCAAkCT,EAAOS,MAAM,SAAW,EAEzF,IADAL,EAAY,0BAA0BE,EAASE,EAAU,UACtDE,SAASC,cAAc,cAA1B,CACAD,SAASE,KAAKC,mBAAmB,YAAaT,EAC9C,IAAIU,GAAWd,EAAOc,SAAWd,EAAOc,SAAW,MACnDZ,GAAKa,OACa,WAAff,EAAOK,KACHJ,GACCA,GACIe,OAAQ,YAIhBC,WAAW,WACPf,EAAKgB,QACNJ,KAGXC,KAAM,WAEFL,SAASC,cAAc,cAAcQ,MAAMC,QAAU,QACrDV,SAASC,cAAc,cAAcQ,MAAME,UAAa,IAAIC,KAAKC,MAAMb,SAASC,cAAc,cAAca,aAAa,GAAG,KACzHd,SAASC,cAAc,eAE9BO,KAAM,WAECR,SAASC,cAAc,eACtBD,SAASC,cAAc,cAAcc,WAAWC,YAAYhB,SAASC,cAAc,gBAG3FgB,OAAQ,WAKJ,MAJGjB,UAASC,cAAc,gBAAeD,SAASC,cAAc,eAAec,WAAWC,YAAYhB,SAASC,cAAc,gBAC1HD,SAASC,cAAc,cACtBD,SAASC,cAAc,aAAaiB,UAAUD,OAAO,iBAElD,GAEXE,QAAS,SAAS7B,EAAOC,GACrB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,UACPH,EAAKH,OAAOC,EAAOC,IAE9B6B,KAAM,SAAS9B,EAAOC,GAClB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,OACPH,EAAKH,OAAOC,EAAOC,IAE9B8B,OAAO,SAAS/B,EAAOC,GACnB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,SACPH,EAAKH,OAAOC,EAAOC,IAE9B+B,QAAQ,SAAShC,EAAOC,GACpB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,UACPH,EAAKH,OAAOC,EAAOC,KAGlCN,EAAOE,SAAWA,GACnBF","file":"aui-toast.js","sourcesContent":["/**\r\n * aui-popup.js\r\n * @author 流浪男\r\n * @todo more things to abstract, e.g. Loading css etc.\r\n * Licensed under the MIT license.\r\n * http://www.opensource.org/licenses/mit-license.php\r\n */\r\n(function( window, undefined ) {\r\n    \"use strict\";\r\n    var auiToast = function() {\r\n        // this.create();\r\n    };\r\n    var isShow = false;\r\n    auiToast.prototype = {\r\n        create: function(params,callback) {\r\n            var self = this;\r\n            var toastHtml = '';\r\n            switch (params.type) {\r\n                case \"success\":\r\n                    var iconHtml = '<i class=\"aui-iconfont aui-icon-correct\"></i>';\r\n                    break;\r\n                case \"fail\":\r\n                    var iconHtml = '<i class=\"aui-iconfont aui-icon-close\"></i>';\r\n                    break;\r\n                case \"custom\":\r\n                    var iconHtml = params.html;\r\n                    break;\r\n                case \"loading\":\r\n                    var iconHtml = '<div class=\"aui-toast-loading\"></div>';\r\n                    break;\r\n            }\r\n\r\n            var titleHtml = params.title ? '<div class=\"aui-toast-content\">'+params.title+'</div>' : '';\r\n            toastHtml = '<div class=\"aui-toast\">'+iconHtml+titleHtml+'</div>';\r\n            if(document.querySelector(\".aui-toast\"))return;\r\n            document.body.insertAdjacentHTML('beforeend', toastHtml);\r\n            var duration = params.duration ? params.duration : \"2000\";\r\n            self.show();\r\n            if(params.type == 'loading'){\r\n                if(callback){\r\n                    callback({\r\n                        status: \"success\"\r\n                    });\r\n                };\r\n            }else{\r\n                setTimeout(function(){\r\n                    self.hide();\r\n                }, duration)\r\n            }\r\n        },\r\n        show: function(){\r\n            var self = this;\r\n            document.querySelector(\".aui-toast\").style.display = \"block\";\r\n            document.querySelector(\".aui-toast\").style.marginTop =  \"-\"+Math.round(document.querySelector(\".aui-toast\").offsetHeight/2)+\"px\";\r\n            if(document.querySelector(\".aui-toast\"))return;\r\n        },\r\n        hide: function(){\r\n            var self = this;\r\n            if(document.querySelector(\".aui-toast\")){\r\n                document.querySelector(\".aui-toast\").parentNode.removeChild(document.querySelector(\".aui-toast\"));\r\n            }\r\n        },\r\n        remove: function(){\r\n            if(document.querySelector(\".aui-dialog\"))document.querySelector(\".aui-dialog\").parentNode.removeChild(document.querySelector(\".aui-dialog\"));\r\n            if(document.querySelector(\".aui-mask\")){\r\n                document.querySelector(\".aui-mask\").classList.remove(\"aui-mask-out\");\r\n            }\r\n            return true;\r\n        },\r\n        success: function(params,callback){\r\n            var self = this;\r\n            params.type = \"success\";\r\n            return self.create(params,callback);\r\n        },\r\n        fail: function(params,callback){\r\n            var self = this;\r\n            params.type = \"fail\";\r\n            return self.create(params,callback);\r\n        },\r\n        custom:function(params,callback){\r\n            var self = this;\r\n            params.type = \"custom\";\r\n            return self.create(params,callback);\r\n        },\r\n        loading:function(params,callback){\r\n            var self = this;\r\n            params.type = \"loading\";\r\n            return self.create(params,callback);\r\n        }\r\n    };\r\n    window.auiToast = auiToast;\r\n})(window);"]}