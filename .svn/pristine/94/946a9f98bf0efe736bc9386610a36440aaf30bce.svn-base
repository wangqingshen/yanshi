{"version":3,"sources":["mobile-select-date.js"],"names":["root","factory","define","amd","exports","module","MobileSelectDate","window","Zepto","jQuery","$","this","rnd","Math","random","toString","replace","id","scroller","data","index","value","oldvalue","oldtext","text","level","mtop","separator","prototype","init","settings","extend","now","Date","getTime","trigger","val","getFullYear","getMonth","slice","getDate","split","undefined","attr","concat","min","max","getData","bindEvent","json","curY","curM","curD","s","l","months","obj","child","m","day","o","days","d","j","push","_this","click","e","buttons","position","width","className","animate","no","yes","confirm","t","c","submit","cancel","dispose","height","format","start","end","children","bind","changedTouches","originalEvent","pageY","diff","dl","target","parent","nodeName","top","parseInt","css","i","mod","mode","round","abs","get","html","hasClass","addClass","siblings","removeClass","f","item","childData","str","focus","length","pid","name","cls","len","newdom","nodeType","join","OrderDetail","delay","next","callback"],"mappings":"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","file":"mobile-select-date.js","sourcesContent":["/*\n * Created with Sublime Text 2.\n * license: http://www.lovewebgames.com/jsmodule/index.html\n * User: 田想兵\n * Date: 2015-04-16\n * Time: 14:11:27\n * Contact: 55342775@qq.com\n */\n;\n(function(root, factory) {\n\t//amd\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['$'], factory);\n\t} else if (typeof exports === 'object') { //umd\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MobileSelectDate = factory(window.Zepto || window.jQuery || $);\n\t}\n})(this, function($) {\n\tvar MobileSelectDate = function() {\n\t\tvar rnd = Math.random().toString().replace('.', '');\n\t\tthis.id = 'scroller_' + rnd;\n\t\tthis.scroller;\n\t\tthis.data;\n\t\tthis.index = 0;\n\t\tthis.value = [0, 0, 0];\n\t\tthis.oldvalue;\n\t\tthis.oldtext;\n\t\tthis.text = ['', '', ''];\n\t\tthis.level = 3;\n\t\tthis.mtop = 30;\n\t\tthis.separator = ' ';\n\t};\n\tMobileSelectDate.prototype = {\n\t\tinit: function(settings) {\n\t\t\tthis.settings = $.extend({}, settings);\n\t\t\tthis.separator = \"-\";\n\t\t\tvar now = new Date(new Date().getTime() + (1000 * 60 * 60 * 24));\n\t\t\tthis.settings.value = this.settings.value || $(this.settings.trigger).val() || now.getFullYear() + \"-\" + (\"0\" + (now.getMonth() + 1)).slice(-2) + '-' + (\"0\" + (now.getDate())).slice(-2);\n\t\t\tthis.settings.value = this.settings.value.replace(/-/g, ',');\n\t\t\tthis.settings.text = this.settings.value.split(',')\n\t\t\tthis.settings.default==undefined ? this.default=1:this.default = 0 ;//0为空,1时默认选中第一项\n\t\t\tthis.trigger = $(this.settings.trigger);\n\t\t\tthis.trigger.attr(\"readonly\", \"readonly\");\n\t\t\tthis.value = (this.settings.value && this.settings.value.split(\",\")) || [0, 0, 0];\n\t\t\tthis.text = this.settings.text || this.trigger.val().split(' ') || ['', '', ''];\n\t\t\tthis.oldvalue = this.value.concat([]);\n\t\t\t// this.clickBtn = $(this.settings.clickBtn);\n\t\t\tthis.oldtext = this.text.concat([]);\n\t\t\tthis.min = new Date(this.settings.min || \"1900-01-01\");\n\t\t\tthis.settings.max ? this.max = new Date(this.settings.max) : this.max = new Date();\n\t\t\tthis.getData();\n\t\t\tthis.bindEvent();\n\t\t},\n\t\t//覆盖数据方法\n\t\tgetData: function() {\n\t\t\tvar json = [];\n\t\t\tvar curY = new Date().getFullYear();\n\t\t\tvar curM = new Date().getMonth() + 1;\n\t\t\tvar curD = new Date().getDate()+1;\n\t\t\tfor (var s = this.min.getFullYear(), l = this.max.getFullYear(); s <= l; s++) {\n\t\t\t\tvar obj = {};\n\t\t\t\tvar months;\n\t\t\t\tobj['id'] = obj['name'] = s;\n\t\t\t\tobj.child = [];\n\t\t\t\tif(s<=curY) {\n\t\t\t\t\tmonths = curM;\n\t\t\t\t}else{\n\t\t\t\t\tmonths = 1;\n\t\t\t\t}\n\t\t\t\tfor (var m = months; m <= 12; m++) {\n\t\t\t\t\tvar o = {};\n\t\t\t\t\tvar day;\n\t\t\t\t\to['id'] = o['name'] = (\"0\" + m).slice(-2);\n\t\t\t\t\to.child = [];\n\t\t\t\t\tvar days = new Date(s, m, 0).getDate();\n\t\t\t\t\tif(s<=curY && m <= months) {\n\t\t\t\t\t\tday = curD;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tday = 1;\n\t\t\t\t\t}\n\t\t\t\t\tfor (var d = day; d <= days; d++) {\n\t\t\t\t\t\tvar j = {};\n\t\t\t\t\t\tj['id'] = j['name'] = (\"0\" + d).slice(-2);\n\t\t\t\t\t\tif (!(m == this.max.getMonth() + 1 && s == this.max.getFullYear() && d > this.max.getDate())) {\n\t\t\t\t\t\t\to.child.push(j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!(m > this.max.getMonth() + 1 && s == this.max.getFullYear())) {\n\t\t\t\t\t\tobj.child.push(o);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjson.push(obj)\n\t\t\t}\n\t\t\tthis.data = json;\n\t\t},\n\t\tbindEvent: function() {\n\t\t\tvar _this = this;\n\t\t\tthis.trigger.click(function(e) {\n\t\t\t\tvar settings,buttons;\n\t\t\t\tif( _this.settings.position == \"bottom\"){\n\t\t\t\t\tsettings ={\n\t\t\t\t\t\tposition:\"bottom\",\n\t\t\t\t\t\twidth:\"100%\",\n\t\t\t\t\t\tclassName:\"ui-dialog-bottom\",\n\t\t\t\t\t\tanimate:false\n\t\t\t\t\t}\n\t\t\t\t\tvar buttons=[{\n\t\t\t\t\t\t\t'no': '取消'\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t'yes': '确定'\n\t\t\t\t\t\t}];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$.confirm('<div class=\"ui-scroller-mask\"><div id=\"' + _this.id + '\" class=\"ui-scroller\"><div></div><div ></div><div></div><p></p></div></div>', buttons, function(t, c) {\n\t\t\t\t\tif (t == \"yes\") {\n\t\t\t\t\t\t_this.submit()\n\t\t\t\t\t}\n\t\t\t\t\tif (t == 'no') {\n\t\t\t\t\t\t_this.cancel();\n\t\t\t\t\t}\n\t\t\t\t\tthis.dispose();\n\t\t\t\t}, $.extend({\n\t\t\t\t\twidth: 320,\n\t\t\t\t\theight: 215\n\t\t\t\t},settings));\n\t\t\t\t\n\t\t\t\t_this.scroller = $('#' + _this.id);\n\t\t\t\t_this.format();\n\t\t\t\tvar start = 0,\n\t\t\t\t\tend = 0\n\t\t\t\t_this.scroller.children().bind('touchstart', function(e) {\n\t\t\t\t\tstart = (e.changedTouches || e.originalEvent.changedTouches)[0].pageY;\n\t\t\t\t});\n\t\t\t\t_this.scroller.children().bind('touchmove', function(e) {\n\t\t\t\t\tend = (e.changedTouches || e.originalEvent.changedTouches)[0].pageY;\n\t\t\t\t\tvar diff = end - start;\n\t\t\t\t\tvar dl = $(e.target).parent();\n\t\t\t\t\tif (dl[0].nodeName != \"DL\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar top = parseInt(dl.css('top') || 0) + diff;\n\t\t\t\t\tdl.css('top', top);\n\t\t\t\t\tstart = end;\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t_this.scroller.children().bind('touchend', function(e) {\n\t\t\t\t\tend = (e.changedTouches || e.originalEvent.changedTouches)[0].pageY;\n\t\t\t\t\tvar diff = end - start;\n\t\t\t\t\tvar dl = $(e.target).parent();\n\t\t\t\t\tif (dl[0].nodeName != \"DL\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar i = $(dl.parent()).index();\n\t\t\t\t\tvar top = parseInt(dl.css('top') || 0) + diff;\n\t\t\t\t\tif (top > _this.mtop) {\n\t\t\t\t\t\ttop = _this.mtop;\n\t\t\t\t\t}\n\t\t\t\t\tif (top < -$(dl).height() + 60) {\n\t\t\t\t\t\ttop = -$(dl).height() + 60;\n\t\t\t\t\t}\n\t\t\t\t\tvar mod = top / _this.mtop;\n\t\t\t\t\tvar mode = Math.round(mod);\n\t\t\t\t\tvar index = Math.abs(mode) + 1;\n\t\t\t\t\tif (mode == 1) {\n\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t}\n\t\t\t\t\t_this.value[i] = $(dl.children().get(index)).attr('ref');\n\t\t\t\t\t_this.value[i] == 0 ? _this.text[i] = \"\" : _this.text[i] = $(dl.children().get(index)).html();\n\t\t\t\t\tfor (var j = _this.level - 1; j > i; j--) {\n\t\t\t\t\t\t_this.value[j] = 0;\n\t\t\t\t\t\t_this.text[j] = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tif (!$(dl.children().get(index)).hasClass('focus')) {\n\t\t\t\t\t\t_this.format();\n\t\t\t\t\t}\n\t\t\t\t\t$(dl.children().get(index)).addClass('focus').siblings().removeClass('focus');\n\t\t\t\t\tdl.css('top', mode * _this.mtop);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tformat: function() {\n\t\t\tvar _this = this;\n\t\t\tvar child = _this.scroller.children();\n\t\t\tthis.f(this.data);\n\t\t},\n\t\tf: function(data) {\n\t\t\tvar _this = this;\n\t\t\tvar item = data;\n\t\t\tif (!item) {\n\t\t\t\titem = [];\n\t\t\t};\n\t\t\tvar str = '<dl><dd ref=\"0\">——</dd>';\n\t\t\tvar focus = 0,\n\t\t\t\tchildData, top = _this.mtop;\n\t\t\tif (_this.index !== 0 && _this.value[_this.index - 1] == \"0\" && this.default == 0) {\n\t\t\t\tstr = '<dl><dd ref=\"0\" class=\"focus\">——</dd>';\n\t\t\t\t_this.value[_this.index] = 0;\n\t\t\t\t_this.text[_this.index] = \"\";\n\t\t\t\tfocus = 0;\n\t\t\t} else {\n\t\t\t\tif (_this.value[_this.index] == \"0\") {\n\t\t\t\t\tstr = '<dl><dd ref=\"0\" class=\"focus\">——</dd>';\n\t\t\t\t\tfocus = 0;\n\t\t\t\t}\n\t\t\t\tif (item.length > 0 && this.default == 1) {\n\t\t\t\t\tstr = '<dl>';\n\t\t\t\t\tvar pid = item[0].pid || 0;\n\t\t\t\t\tvar id = item[0].id || 0;\n\t\t\t\t\tfocus = item[0].id;\n\t\t\t\t\tchildData = item[0].child;\n\t\t\t\t\tif(!_this.value[this.index ]){\n\t\t\t\t\t\t_this.value[this.index ] = id;\n\t\t\t\t\t\t_this.text[this.index] = item[0].name;\n\t\t\t\t\t}\n\t\t\t\t\tstr += '<dd pid=\"' + pid + '\" class=\"' + cls + '\" ref=\"' + id + '\">' + item[0].name + '</dd>';\n\t\t\t\t}\n\t\t\t\tfor (var j = _this.default, len = item.length; j < len; j++) {\n\t\t\t\t\tvar pid = item[j].pid || 0;\n\t\t\t\t\tvar id = item[j].id || 0;\n\t\t\t\t\tvar cls = '';\n\t\t\t\t\tif (_this.value[_this.index] == id) {\n\t\t\t\t\t\tcls = \"focus\";\n\t\t\t\t\t\tfocus = id;\n\t\t\t\t\t\tchildData = item[j].child;\n\t\t\t\t\t\ttop = _this.mtop * (-(j - _this.default));\n\t\t\t\t\t};\n\t\t\t\t\tstr += '<dd pid=\"' + pid + '\" class=\"' + cls + '\" ref=\"' + id + '\">' + item[j].name + '</dd>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tstr += \"</dl>\";\n\t\t\tvar newdom = $(str);\n\t\t\tnewdom.css('top', top);\n\t\t\tvar child = _this.scroller.children();\n\t\t\t$(child[_this.index]).html(newdom);\n\t\t\t_this.index++;\n\t\t\tif (_this.index > _this.level - 1) {\n\t\t\t\t_this.index = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_this.f(childData);\n\t\t},\n\t\tsubmit: function() {\n\t\t\tthis.oldvalue = this.value.concat([]);\n\t\t\tthis.oldtext = this.text.concat([]);\n\t\t\tif (this.trigger[0].nodeType == 1) {\n\t\t\t\t//input\n\t\t\t\tthis.trigger.val(this.text.join(this.separator));\n\t\t\t\tthis.trigger.attr('data-value', this.value.join(','));\n\t\t\t\tif(this.trigger.attr('id') == 'ps-time') {\n\t\t\t\t\tOrderDetail.delay(this.text.join(this.separator));\n\t\t\t\t}\n\t\t\t\t// if(this.trigger.attr('id') == 'ps-time') {\n\t\t\t\t// \tOrderDetail.delay(this.text.join(this.separator));\n\t\t\t\t// }else if(this.trigger.attr('id') == 'reserveDayDate') {\n\t\t\t\t// \tthis.clickBtn.text(this.text.join(this.separator));\n\t\t\t\t// }\n\t\t\t}\n\t\t\tthis.trigger.next(':hidden').val(this.value.join(','));\n\t\t\tthis.settings.callback && this.settings.callback(this.scroller);\n\t\t},\n\t\tcancel: function() {\n\t\t\tthis.value = this.oldvalue.concat([]);\n\t\t\tthis.text = this.oldtext.concat([]);\n\t\t}\n\t}\n\treturn MobileSelectDate;\n})"]}