!function(t){"use strict";var r,a,n,e,i=function(t,r){this.extend(this.params,t),this._init(r)},s=!1,o=t.document.documentElement,c={width:t.innerWidth,height:t.innerHeight},u=!1;i.prototype={params:{container:document.querySelector(".aui-refresh-content"),friction:2.5,triggerDistance:100,callback:!1},_init:function(t){var r=this,a='<div class="aui-refresh-load"><div class="aui-refresh-pull-arrow"></div></div>';r.params.container.insertAdjacentHTML("afterbegin",a),r.params.container.addEventListener("touchstart",function(t){r.touchStart(t)}),r.params.container.addEventListener("touchmove",function(t){r.touchMove(t)}),r.params.container.addEventListener("touchend",function(a){r.touchEnd(a,t)})},touchStart:function(t){if(!s){u=!1,this.params.container.style.webkitTransitionDuration=this.params.container.style.transitionDuration="0ms",r="";var a=t.changedTouches[0];n=parseInt(a.clientY),e=this.scrollY()}},touchMove:function(t){if(s)return void t.preventDefault();var i=this,o=function(){var s=t.changedTouches[0],o=parseInt(s.clientY);return r=o-n,0===i.scrollY()&&r>0&&t.preventDefault(),e>0||i.scrollY()>0||0===i.scrollY()&&r<0?void(n=o):(a=Math.pow(r,.85),i.params.container.style.webkitTransform=i.params.container.style.transform="translate3d(0, "+a+"px, 0)",u=!0,void(r>i.params.triggerDistance?(i.params.container.classList.add("aui-refresh-pull-up"),i.params.container.classList.remove("aui-refresh-pull-down")):(i.params.container.classList.add("aui-refresh-pull-down"),i.params.container.classList.remove("aui-refresh-pull-up"))))};this.throttle(o(),20)},touchEnd:function(t,a){var n=this;return s||!u?void(u=!1):(r>=this.params.triggerDistance?(s=!0,t.preventDefault(),this.params.container.style.webkitTransitionDuration=this.params.container.style.transitionDuration="300ms",this.params.container.style.webkitTransform=this.params.container.style.transform="translate3d(0,60px,0)",document.querySelector(".aui-refresh-pull-arrow").style.webkitTransitionDuration=document.querySelector(".aui-refresh-pull-arrow").style.transitionDuration="0ms",n.params.container.classList.add("aui-refreshing"),a&&a({status:"success"})):(this.params.container.style.webkitTransitionDuration=this.params.container.style.transitionDuration="300ms",this.params.container.style.webkitTransform=this.params.container.style.transform="translate3d(0,0,0)",a&&a({status:"fail"})),void(u=!1))},cancelLoading:function(){var t=this;s=!1,t.params.container.classList.remove("aui-refreshing"),document.querySelector(".aui-refresh-pull-arrow").style.webkitTransitionDuration=document.querySelector(".aui-refresh-pull-arrow").style.transitionDuration="300ms",this.params.container.style.webkitTransitionDuration=this.params.container.style.transitionDuration="0ms",t.params.container.style.webkitTransform=t.params.container.style.transform="translate3d(0,0,0)",t.params.container.classList.remove("aui-refresh-pull-up"),t.params.container.classList.add("aui-refresh-pull-down")},scrollY:function(){return t.pageYOffset||o.scrollTop},throttle:function(t,r){var a=!0;return function(n){a&&(a=!1,setTimeout(function(){a=!0},r),t(n))}},winresize:function(){var r=function(){c={width:t.innerWidth,height:t.innerHeight}};throttle(r(),10)},extend:function(t,r){for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a]);return t}},t.auiPullToRefresh=i}(window);
//# sourceMappingURL=aui-pull-refresh.js.map
